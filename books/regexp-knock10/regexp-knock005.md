---
title: "正規表現10本ノック5本目" # 記事のタイトル
emoji: "📝" # アイキャッチとして使われる絵文字（1文字だけ）
type: "tech" # tech: 技術記事 / idea: アイデア記事
topics: [regexp] # タグ。["markdown", "rust", "aws"]のように指定する
published: true # 公開設定（falseにすると下書き）
---
# 出題：正規表現10本ノック5本目(メタ文字 `*`、`+`)

## 背景

あなたはプログラマです。いつもいつも同じプログラムを眺めていますが、なんだかおかしいなと思いました。fooooo ??こんなに多かったっけ？いくつoがあるのかもよく分かりません。

```vb
  Dim fooooo as Long
  Dim bar as Long
  Dim baz as Long
```

## お題
以下の文字列のうち、○の文字列にマッチして×の文字列にマッチしない正規表現を考えてください。
（冒頭の背景のことは無視してください。置換のことは考えなくて良いです)

    ○: fooooo
    ○: foooo
    ○: fooo
    ×: foo
    ×: fo
    ×: bar
    ×: baz

使用する正規表現の条件:
  * 文字数の目安: 5 または 6文字(メタ文字 `+`または `*` を使用)
  * 中級者向けの制限: 8文字(メタ文字 `+`, `*` を使用しないマッチすべき `o` の数は無制限)

## 回答と解説

:::details 回答
`fooo+` または `foooo*`
:::

:::details 回答(中級者向け)
`fooo{1,}`
:::

:::details 解説
正規表現において、頻出するメタ文字 `*` と `+` です。

`*` は「直前の正規表現」の「0回以上の繰り返し」を表します。

「直前の正規表現」とはなんでしょうか？
 fooo* では `*` の1つ左のo(左から3つ目のo)が「直前の正規表現」です。

「0回以上の繰り返し」とはどういうことでしょうか？
`fooo*` では、
* 直前の`o`が0回繰り返し→`foo` にマッチ(`o*` の部分の解釈として、`o`が0個)
* 直前の`o`が1回繰り返し→`fooo` にもマッチ(`o*` の部分の解釈として、`o`が1個)
* 直前の`o`が2回繰り返し→`fooo` にもマッチ(`o*` の部分の解釈として、`o`が2個)

以降、無限に繰り返し…
という意味になります。

`+` は「直前の正規表現」の「1回以上の繰り返し」を表します。
`foo+` では、
* 直前の`o`が1回繰り返し→`foo` にマッチ(`o+` の部分の解釈として、`o`が1個)
* 直前の`o`が2回繰り返し→`fooo` にもマッチ(`o+` の部分の解釈として、`o`が2個)

以降、無限に繰り返し…
という意味になります。

なお、正規表現で `+` による繰り返しは、`*` を使って表すことができます。
正規表現 `o+` を `*` を使って表すと、`oo*` のように同じ文字が2回現れる形になります。
:::
