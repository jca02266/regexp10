---
title: "正規表現10本ノック7本目" # 記事のタイトル
emoji: "📝" # アイキャッチとして使われる絵文字（1文字だけ）
type: "tech" # tech: 技術記事 / idea: アイデア記事
topics: [regexp] # タグ。["markdown", "rust", "aws"]のように指定する
published: false # 公開設定（falseにすると下書き）
---
# 出題：正規表現10本ノック7本目(メタ文字 `?`)

## 背景

あなたはプログラマです。たまには違うソースを見てみます。変数名の表記揺れがあるようです。
hoge も hogehoge も同じ意味の変数なのでこれらはまとめて変数名 foo に変えてしまいたいと考えました。

```vb
  ' ある場所の変数定義
  Dim hoge as Long

  ' 別の場所の変数定義
  Dim hogehoge as Long
```

## お題
以下の文字列のうち、○の文字列にマッチして×の文字列にマッチしない正規表現を考えてください。
（冒頭の背景のことは無視してください。置換のことは考えなくて良いです)

    ○: hoge
    ○: hogehoge
    ×: hogehogehoge    (この文字列に部分的にしかマッチしない場合は×とみなします)

使用する正規表現の条件:
  * 文字数の目安: 11文字 (メタ文字 `?` と `()` を使用)
  * 中級者向けの制限: 11文字(メタ文字 `?` を使用せず、`|` を使用)

## 回答と解説

:::details 回答
`hoge(hoge)?`
:::

:::details 回答(中級者向け)
`hoge(hoge|)`
:::

:::details 解説
ノック5本目で、`*` は「直前の正規表現」の「0回以上の繰り返し」を表すことを学びました。
`?` はその仲間で、「直前の正規表現」の「0回または1回」になります。
もう少し、くだけて言い方をすると、「直前の文字(正規表現)があるまたはない」を表現します。
`?` の文字にピッタリの意味な気がしませんか？

たとえば、`f` または `fo` にマッチする正規表現は、`fo?` になります。
お題ではもうちょっと発展させてノック6本目で習ったグルーピング `()` も使用する例にしています。
:::
